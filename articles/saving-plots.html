<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Saving plots with tinieR • tinieR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Saving plots with tinieR">
<meta property="og:description" content="tinieR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tinieR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/tinieR.html">Get started</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/saving-plots.html">Saving plots with tinieR</a>
    </li>
    <li>
      <a href="../articles/setting-defaults.html">Setting default options</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/jmablog/tinieR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="saving-plots_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Saving plots with tinieR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmablog/tinieR/blob/HEAD/vignettes/saving-plots.Rmd" class="external-link"><code>vignettes/saving-plots.Rmd</code></a></small>
      <div class="hidden name"><code>saving-plots.Rmd</code></div>

    </div>

    
    
<p><strong>tinieR</strong> provides two convenience functions to save plots and automatically shrink their image file sizes: <code><a href="../reference/petit_plot.html">petit_plot()</a></code> and <code><a href="../reference/petit_plot.html">petit_ggplot()</a></code>.</p>
<div class="section level2">
<h2 id="base-r-plots">Base R plots<a class="anchor" aria-label="anchor" href="#base-r-plots"></a>
</h2>
<p>To save and shrink a base R plot, print the plot and call <code><a href="../reference/petit_plot.html">petit_plot()</a></code> immediately after. Under the hood, this uses <code><a href="https://rdrr.io/r/grDevices/recordplot.html" class="external-link">recordPlot()</a></code> to capture and replay the last plot created within the chosen device with the applied options:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">$</span><span class="va">mpg</span>, <span class="va">mtcars</span><span class="op">$</span><span class="va">drat</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/petit_plot.html">petit_plot</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"mtcars"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="ggplots">ggplots<a class="anchor" aria-label="anchor" href="#ggplots"></a>
</h2>
<p>To save and shrink a <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot</a>, either create, modify, or show the plot and call <code><a href="../reference/petit_plot.html">petit_plot()</a></code> immediately after, in a similar process to base R above:</p>
<pre><code>ggplot(data = palmerpenguins::penguins,
       aes(flipper_length_mm, body_mass_g)) +
geom_point(aes(color = species)

petit_plot(filename = "penguins")</code></pre>
<p>Or use <code><a href="../reference/petit_plot.html">petit_ggplot()</a></code> to capture specifically the last <em>ggplot</em> created or modified:</p>
<pre><code>ggplot(data = palmerpenguins::penguins,
       aes(flipper_length_mm, body_mass_g)) +
geom_point(aes(color = species)

petit_ggplot(filename = "penguins")</code></pre>
<p>Or provide the plot object explicitly to <code><a href="../reference/petit_plot.html">petit_ggplot()</a></code> with <code>plot</code>:</p>
<pre><code>p &lt;- ggplot(data = palmerpenguins::penguins,
            aes(flipper_length_mm, body_mass_g)) +
     geom_point(aes(color = species)
     
petit_ggplot(filename = "penguins", plot = p)</code></pre>
</div>
<div class="section level2">
<h2 id="options">Options<a class="anchor" aria-label="anchor" href="#options"></a>
</h2>
<div class="section level3">
<h3 id="file-types">File types<a class="anchor" aria-label="anchor" href="#file-types"></a>
</h3>
<p>You can use <code>device</code> to set the output file to either <code>png</code> or <code>jpg</code>. If you have the <a href="https://ragg.r-lib.org" class="external-link">ragg</a> package installed, you can also set <code>ragg = TRUE</code> (within <code><a href="../reference/petit_plot.html">petit_plot()</a></code> only) to use that as the backend for saving a plot, with all the benefits <a href="https://ragg.r-lib.org" class="external-link">ragg</a> provides.</p>
</div>
<div class="section level3">
<h3 id="output-paths">Output paths<a class="anchor" aria-label="anchor" href="#output-paths"></a>
</h3>
<p>Use <code>path</code> to save your plot into a sub-directory. By default, plots are saved into the current working directory, but you can provide a path to save them into instead. Just don’t include the final trailing path separator (e.g., <code>path = "images/plots"</code> to save an image in the ‘plots’ folder).</p>
</div>
<div class="section level3">
<h3 id="keep-the-unshrunk-image-file">Keep the unshrunk image file<a class="anchor" aria-label="anchor" href="#keep-the-unshrunk-image-file"></a>
</h3>
<p>Set <code>keep_large = TRUE</code> to keep the original image file alongside the tinified image. The tinified image will have a suffix attached, by default <code>_tiny</code>, that you can change with <code>suffix</code> (suffix is ignored if <code>keep_large = FALSE</code>).</p>
</div>
<div class="section level3">
<h3 id="other-plot-options">Other plot options<a class="anchor" aria-label="anchor" href="#other-plot-options"></a>
</h3>
<p>Any other arguments are passed directly to the underlying device used to save the plot. This allows you to set all the other usual plot options you might expect, such as width or height. These underlying functions and their subsequent options depend on the function and device used:</p>
<p><strong>petit_plot:</strong></p>
<ul>
<li><code><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png()</a></code></li>
<li><code><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">jpeg()</a></code></li>
<li><code><a href="https://ragg.r-lib.org/reference/agg_png.html" class="external-link">ragg::agg_png()</a></code></li>
<li><code><a href="https://ragg.r-lib.org/reference/agg_jpeg.html" class="external-link">ragg::agg_jpeg()</a></code></li>
</ul>
<p><strong>petit_ggplot:</strong></p>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggplot2::ggsave()</a></code></li>
</ul>
</div>
<div class="section level3">
<h3 id="other-tinify-options">Other <code>tinify()</code> options<a class="anchor" aria-label="anchor" href="#other-tinify-options"></a>
</h3>
<p>You can also pass in the <code>quiet</code>, <code>return_path</code>, and <code>key</code> options that are passed along to <code><a href="../reference/tinify.html">tinify()</a></code>. See the <code><a href="../reference/tinify.html">tinify()</a></code> documentation or the <a href="https://jmablog.github.io/tinieR/articles/tinieR.html" class="external-link">Get Started</a> vignette for details.</p>
<p>Both <code><a href="../reference/petit_plot.html">petit_plot()</a></code> and <code><a href="../reference/petit_plot.html">petit_ggplot()</a></code> should respect any defaults set by <code><a href="../reference/tinify_defaults.html">tinify_defaults()</a></code>, with the exception of <code>overwrite</code> (which is superseded by the <code>keep_large</code> argument) and <code>resize</code> (as you can just set your desired width/height when creating the plot).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by James Adams.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
