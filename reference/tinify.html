<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. -->
<meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script>

<title>Shrink Image Files with TinyPNG — tinify • tinieR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- Flatly Theme - Light  -->
<link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">

<!-- Darkly Theme - Dark -->
<link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">

<!-- preferably CSS -->
<link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">


<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Shrink Image Files with TinyPNG — tinify" />
<meta property="og:description" content="Shrink an image's (PNG or JPG) filesize with the TinyPNG API." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>




<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tinieR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tinieR.html">Get started</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/setting-defaults.html">Setting default options</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/jmablog/tinieR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Shrink Image Files with TinyPNG</h1>
    <small class="dont-index">Source: <a href='https://github.com/jmablog/tinieR/blob/master/R/tinify.R'><code>R/tinify.R</code></a></small>
    <div class="hidden name"><code>tinify.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Shrink an image's (PNG or JPG) filesize with the TinyPNG API.</p>
    </div>

    <pre class="usage"><span class='fu'>tinify</span><span class='op'>(</span><span class='va'>file</span>, <span class='va'>overwrite</span>, <span class='va'>suffix</span>, <span class='va'>quiet</span>, <span class='va'>return_path</span>, <span class='va'>resize</span>, key <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file</th>
      <td><p>String, required. A string detailing the path to the file you wish
to shrink, relative to the current working directory or as an absolute file
path. Can include sub-directories and must include the file extension (.png
or .jpg/.jpeg only).</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Boolean, defaults to <code>FALSE</code>. By default, tinify will create
a new file with the suffix '_tiny' and preserve the original file. Set
<code>TRUE</code> to instead overwrite the original file, with the same file name.</p></td>
    </tr>
    <tr>
      <th>suffix</th>
      <td><p>String, defaults to <code>"_tiny"</code>. By default, tinify will create a
new file with the suffix '_tiny' and preserve the original file. Provide a
new character string here to change the suffix from '_tiny' to your own
choice. Empty strings (<code>""</code>) are not accepted. <code>suffix</code> is ignored when
<code>overwrite</code> is set to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>Boolean, defaults to <code>FALSE</code>. By default, tinify provides details
on file names, amount of file size reduction (% and Kb), and the number of
TinyPNG API calls made this month. If set to <code>TRUE</code>, tinify displays no
messages as it shrinks files.</p></td>
    </tr>
    <tr>
      <th>return_path</th>
      <td><p>String, optional. One of "<code>proj</code>", "<code>rel</code>", "<code>abs</code>", or
"<code>all</code>". If "<code>proj</code>", will return the file path of the newly tinified image
file relative to the Rstudio project directory (looking for an .Rproj file).
If no project can be identified, returns <code>NA</code>. If "<code>rel</code>", will return the
file path of the newly tinified image file, relative to the <strong>current</strong>
working directory at the time <code>tinify()</code> is called. If "<code>abs</code>", will return
the absolute file path of the newly tinified image file. If "<code>all</code>", will
return a named list with all file paths.</p></td>
    </tr>
    <tr>
      <th>resize</th>
      <td><p>Named list, optional. A named list with the elements <code>method</code> as
a string, and <code>width</code> and/or <code>height</code> as numerics. Please note you can only
reduce an image's dimensions and make an image smaller with TinyPNG API, not
make an image larger. Method must be set to one of "scale", "fit", "cover",
or "thumb". If using "scale", you only need to provide <code>width</code> OR <code>height</code>,
not both. If using any other method, you must supply both a <code>width</code> AND
<code>height</code>. See <a href='https://tinypng.com/developers/reference#resizing-images'>https://tinypng.com/developers/reference#resizing-images</a> and
the examples for more.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>String, optional. A string containing your TinyPNG API key. Not
required if the API key is set using <code>tinify_api()</code>. If an API key is
provided with <code>tinify_api()</code>, any other key provided in the function call
will override the key set by <code>tinify_api()</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>return_path = "proj"</code>, <code>return_path = "rel"</code>, or <code>return_path = "abs"</code>, a string with the project, relative, or absolute path to the newly
tinified image file. If no project can be identified for <code>return_path = "proj"</code>, returns <code>NA</code>. If <code>return_path = "all"</code>, a named list with all file
paths included as <code>$project</code>, <code>$relative</code>, and <code>$absolute</code> respectively. If
<code>return_path = NULL</code>, no return value.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If any argument is provided to <code>tinify()</code> when called, it will overwrite the
default option set by <code><a href='tinify_defaults.html'>tinify_defaults()</a></code>.</p>
    <h2 class="hasAnchor" id="tinypng-api"><a class="anchor" href="#tinypng-api"></a>TinyPNG API</h2>

    <p>You can get a TinyPNG API key from
<a href='https://tinypng.com/developers'>https://tinypng.com/developers</a>. TinyPNG is smart enough to know when you
are uploading the same file again, and so will not count repeat calls of
<code>tinify()</code> on the same image file against your monthly API usage limit. This
can be useful if, for example, you are using <code>tinify()</code> in an RMarkdown
document as it won't count against your API usage every time you knit your
document. But, be aware that use of <code>resize</code> also counts as an additional
API call, as the image is first reduced in filesize, then a second API call
is made to resize the newly tinified file.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='tinify_key.html'>tinify_key()</a></code> to set an API key globally so it does not need to be
provided with every call of <code>tinify()</code></p>
<p><code><a href='tinify_defaults.html'>tinify_defaults()</a></code> to set default arguments so they do not need to
be provided with every call of <code>tinify()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Shrink a PNG file</span>

<span class='va'>img</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"example.png"</span>, package <span class='op'>=</span> <span class='st'>"tinieR"</span><span class='op'>)</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span><span class='op'>)</span>

<span class='co'># Also works with JPEG/JPG files</span>

<span class='va'>img_jpg</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"example.jpg"</span>, package <span class='op'>=</span> <span class='st'>"tinieR"</span><span class='op'>)</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img_jpg</span><span class='op'>)</span>

<span class='co'># Return absolute path to newly shrunk file:</span>

<span class='va'>shrunk_img</span> <span class='op'>&lt;-</span> <span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, return_path <span class='op'>=</span> <span class='st'>"abs"</span><span class='op'>)</span>

<span class='co'># Suppress messages detailing file reduction amount:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, quiet <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Overwrite original file in place:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, overwrite <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Change suffix on new file:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, suffix <span class='op'>=</span> <span class='st'>"_small"</span><span class='op'>)</span>

<span class='co'># Resize an image with the method "scale", only providing a width:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, resize <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"scale"</span>, width <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Or resize an image with any other method by providing both width and height:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, resize <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"cover"</span>, width <span class='op'>=</span> <span class='fl'>300</span>, height <span class='op'>=</span> <span class='fl'>150</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Overwrite a global API key set in tinify_api():</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>, key <span class='op'>=</span> <span class='st'>"NEW-API-KEY-HERE"</span><span class='op'>)</span>

<span class='co'># You can combine any of the above:</span>

<span class='fu'>tinify</span><span class='op'>(</span><span class='va'>img</span>,
       overwrite <span class='op'>=</span> <span class='cn'>TRUE</span>,
       quiet <span class='op'>=</span> <span class='cn'>TRUE</span>,
       return_path <span class='op'>=</span> <span class='st'>"rel"</span><span class='op'>)</span>

<span class='co'># Plays nice with the pipe:</span>

<span class='va'>img</span> <span class='op'>%&gt;%</span> <span class='fu'>tinify</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># And with purrr::map for multiple files:</span>

<span class='va'>imgs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"example.png"</span>, <span class='st'>"example2.png"</span><span class='op'>)</span>

<span class='fu'>purrr</span><span class='fu'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>imgs</span>, <span class='op'>~</span><span class='fu'>tinify</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># An example method for shrinking an entire directory:</span>

<span class='va'>imgs_dir</span> <span class='op'>&lt;-</span> <span class='fu'>fs</span><span class='fu'>::</span><span class='fu'><a href='http://fs.r-lib.org/reference/dir_ls.html'>dir_ls</a></span><span class='op'>(</span><span class='st'>"imgs"</span>, glob <span class='op'>=</span> <span class='st'>"*.png"</span><span class='op'>)</span>

<span class='fu'>purrr</span><span class='fu'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>imgs_dir</span>, <span class='op'>~</span><span class='fu'>tinify</span><span class='op'>(</span><span class='va'>.x</span>, overwrite <span class='op'>=</span> <span class='cn'>TRUE</span>, quiet <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James Adams.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


